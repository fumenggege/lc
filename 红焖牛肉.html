<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>红焖牛肉 - 鲁味风华</title>
  <!-- 引入外部资源 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- Tailwind 配置 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#A62928',      // 鲁菜主色调：深红色
            secondary: '#D9B38C',    // 辅助色：暖棕色
            neutral: '#F5F1E9',      // 中性色：米白色
            dark: '#3A2E21'          // 深色：深棕色
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            serif: ['"Noto Serif SC"', 'serif']
          }
        }
      }
    }
  </script>
  
  <!-- 自定义工具类 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }
      .card-hover {
        transition: all 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-5px);
      }
    }
  </style>
  
  <style>
    /* 全局样式 */
    html {
      scroll-behavior: smooth;
    }
    
    /* 菜品详情页样式 */
    .dish-gallery-img {
      transition: transform 0.3s ease;
      cursor: pointer; /* 增加鼠标指针，提示可点击 */
    }
    .dish-gallery-img:hover {
      transform: scale(1.05);
    }
    
    .ingredient-item {
      transition: all 0.2s ease;
    }
    .ingredient-item:hover {
      background-color: #F5F1E9;
      transform: translateX(5px);
    }
    
    .process-step {
      position: relative;
    }
    .process-step::before {
      content: '';
      position: absolute;
      left: -30px;
      top: 8px;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background-color: #A62928;
    }
    .process-step::after {
      content: '';
      position: absolute;
      left: -22px;
      top: 24px;
      width: 2px;
      height: calc(100% + 16px);
      background-color: #D9B38C;
    }
    .process-step:last-child::after {
      display: none;
    }
    
    /* 红焖牛肉特色样式 */
    .beef-bg {
      background: linear-gradient(135deg, #f9f5f0 0%, #f7f1e6 100%);
    }
    
    .beef-card {
      background: linear-gradient(to bottom right, #ffffff, #f9f5f0);
      border: 1px solid rgba(217, 179, 140, 0.3);
    }
    
    /* 牛肉装饰动画 */
    @keyframes float-beef {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      25% { transform: translateY(-5px) rotate(3deg); }
      50% { transform: translateY(-10px) rotate(0deg); }
      75% { transform: translateY(-5px) rotate(-3deg); }
    }
    
    .floating-beef {
      animation: float-beef 4s ease-in-out infinite;
    }

    /* 翻译相关样式 */
    .translate-btn {
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .translate-btn:hover {
      transform: scale(1.05);
    }
    .translate-btn.loading {
      opacity: 0.7;
      cursor: not-allowed;
    }
    .translate-btn.loading::after {
      content: "";
      width: 16px;
      height: 16px;
      border: 2px solid #ffffff;
      border-top: 2px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .lang-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      margin-top: 4px;
      width: 180px;
      background: white;
      border-radius: 4px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      z-index: 100;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
    }
    .lang-dropdown.show {
      opacity: 1;
      visibility: visible;
    }
    .lang-option {
      padding: 12px 16px;
      cursor: pointer;
      transition: background 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .lang-option:hover {
      background: #f5f5f5;
    }
    .lang-option.active {
      color: #A62928;
      font-weight: 600;
      background: #f0f8fb;
    }
    .lang-flag {
      width: 24px;
      height: 24px;
      border-radius: 4px;
      object-fit: cover;
    }
  </style>
</head>

<body class="bg-neutral text-dark lang-zh">
  <!-- 导航栏（修复导航链接锚点，与主界面保持一致） -->
  <header id="navbar" class="fixed w-full top-0 z-50 transition-all duration-300 bg-white/90 backdrop-blur-sm shadow-sm">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <a href="主界面.html#home" class="flex items-center space-x-2">
        <i class="fa fa-cutlery text-primary text-2xl"></i>
        <span class="text-xl font-serif font-bold text-primary translate-target" data-translate="brand">鲁味风华</span>
      </a>
      
      <!-- 桌面导航（添加锚点，确保跳转精准） -->
      <nav class="hidden md:flex items-center space-x-8">
        <a href="主界面.html#home" class="font-medium hover:text-primary transition-colors translate-target" data-translate="nav-home">首页</a>
        <a href="主界面.html#about" class="font-medium hover:text-primary transition-colors translate-target" data-translate="nav-about">关于鲁菜</a>
        <a href="主界面.html#dishes" class="font-medium text-primary transition-colors translate-target" data-translate="nav-dishes">菜品展示</a>
        <a href="主界面.html#culture" class="font-medium hover:text-primary transition-colors translate-target" data-translate="nav-culture">鲁菜文化</a>
        <!-- 语言切换按钮 -->
        <div class="relative">
          <button id="lang-btn" class="translate-btn bg-secondary hover:bg-secondary/90 text-white font-medium py-2 px-4 rounded-md">
            <i class="fa fa-language"></i>
            <span id="current-lang-text">中文</span>
            <i class="fa fa-angle-down text-xs"></i>
          </button>
          <div id="lang-dropdown" class="lang-dropdown">
            <div class="lang-option active" data-lang="zh" data-lang-name="中文">
              <img src="https://flagcdn.com/w40/cn.png" alt="中文" class="lang-flag">
              <span>中文</span>
            </div>
            <div class="lang-option" data-lang="en" data-lang-name="English">
              <img src="https://flagcdn.com/w40/gb.png" alt="English" class="lang-flag">
              <span>English</span>
            </div>
            <div class="lang-option" data-lang="jp" data-lang-name="日本語">
              <img src="https://flagcdn.com/w40/jp.png" alt="日本語" class="lang-flag">
              <span>日本語</span>
            </div>
            <div class="lang-option" data-lang="kor" data-lang-name="한국어">
              <img src="https://flagcdn.com/w40/kr.png" alt="한국어" class="lang-flag">
              <span>한국어</span>
            </div>
            <div class="lang-option" data-lang="fra" data-lang-name="Français">
              <img src="https://flagcdn.com/w40/fr.png" alt="Français" class="lang-flag">
              <span>Français</span>
            </div>
            <div class="lang-option" data-lang="de" data-lang-name="Deutsch">
              <img src="https://flagcdn.com/w40/de.png" alt="Deutsch" class="lang-flag">
              <span>Deutsch</span>
            </div>
            <div class="lang-option" data-lang="spa" data-lang-name="Español">
              <img src="https://flagcdn.com/w40/es.png" alt="Español" class="lang-flag">
              <span>Español</span>
            </div>
            <div class="lang-option" data-lang="ru" data-lang-name="Русский">
              <img src="https://flagcdn.com/w40/ru.png" alt="Русский" class="lang-flag">
              <span>Русский</span>
            </div>
            <div class="lang-option" data-lang="ara" data-lang-name="العربية">
              <img src="https://flagcdn.com/w40/sa.png" alt="العربية" class="lang-flag">
              <span>العربية</span>
            </div>
            <div class="lang-option" data-lang="vie" data-lang-name="越南语">
              <img src="https://flagcdn.com/w40/vn.png" alt="越南语" class="lang-flag">
              <span>越南语</span>
            </div>
          </div>
        </div>
      </nav>
      
      <!-- 移动端菜单按钮 -->
      <div class="flex items-center md:hidden">
        <button id="menu-toggle" class="text-dark focus:outline-none mr-4">
          <i class="fa fa-bars text-xl"></i>
        </button>
      </div>
    </div>
    

    <!-- 移动端导航菜单（修复锚点链接） -->
    <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg absolute w-full">
      <div class="container mx-auto px-4 py-3 flex flex-col space-y-4">
        <a href="主界面.html#home" class="font-medium py-2 hover:text-primary transition-colors translate-target" data-translate="nav-home">首页</a>
        <a href="主界面.html#about" class="font-medium py-2 hover:text-primary transition-colors translate-target" data-translate="nav-about">关于鲁菜</a>
        <a href="主界面.html#dishes" class="font-medium py-2 text-primary transition-colors translate-target" data-translate="nav-dishes">菜品展示</a>
        <a href="主界面.html#culture" class="font-medium py-2 hover:text-primary transition-colors translate-target" data-translate="nav-culture">鲁菜文化</a>
        <!-- 移动端语言切换 -->
        <div class="pt-2 border-t border-gray-100">
          <div class="relative w-full">
            <button id="mobile-lang-btn" class="translate-btn bg-secondary hover:bg-secondary/90 text-white font-medium py-2 px-4 rounded-md w-full justify-center">
              <i class="fa fa-language"></i>
              <span id="mobile-current-lang">中文</span>
              <i class="fa fa-angle-down text-xs"></i>
            </button>
            <div id="mobile-lang-dropdown" class="lang-dropdown w-full">
              <div class="lang-option active" data-lang="zh" data-lang-name="中文">
                <img src="https://flagcdn.com/w40/cn.png" alt="中文" class="lang-flag">
                <span>中文</span>
              </div>
              <div class="lang-option" data-lang="en" data-lang-name="English">
                <img src="https://flagcdn.com/w40/gb.png" alt="English" class="lang-flag">
                <span>English</span>
              </div>
              <div class="lang-option" data-lang="jp" data-lang-name="日本語">
                <img src="https://flagcdn.com/w40/jp.png" alt="日本語" class="lang-flag">
                <span>日本語</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- 菜品详情头部（核心修复：图片路径+主图ID+预览逻辑） -->
  <section class="pt-32 pb-16 bg-white">
    <div class="container mx-auto px-4">
      <div class="flex flex-col md:flex-row gap-8 items-start">
        <!-- 菜品主图 -->
        <div class="w-full md:w-1/2">
          <div class="bg-neutral rounded-xl overflow-hidden shadow-lg relative">
            <!-- 主图：添加唯一ID，修复路径为./images/ -->
            <img id="main-dish-img" src="./images/红焖牛肉2.jpg" alt="红焖牛肉" class="w-full h-[400px] object-cover translate-target" data-translate="dish-beef-main">
            <!-- 装饰性图标 -->
            <div class="absolute top-4 left-4 floating-beef">
              <div class="w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center">
                <i class="fa fa-cutlery text-primary text-xl"></i>
              </div>
            </div>
          </div>
          
          <!-- 菜品图片画廊（统一路径为./images/，确保与主图一致） -->
          <div class="grid grid-cols-4 gap-4 mt-4">
            <div class="rounded-lg overflow-hidden shadow-md">
              <img src="./images/红焖牛肉2.jpg" alt="红焖牛肉1" class="w-full h-24 object-cover dish-gallery-img translate-target" data-translate="dish-beef-1">
            </div>
            <div class="rounded-lg overflow-hidden shadow-md">
              <img src="./images/红焖牛肉1.jpg" alt="红焖牛肉2" class="w-full h-24 object-cover dish-gallery-img translate-target" data-translate="dish-beef-2">
            </div>
            <div class="rounded-lg overflow-hidden shadow-md">
              <img src="./images/红焖牛肉3.jpg" alt="红焖牛肉3" class="w-full h-24 object-cover dish-gallery-img translate-target" data-translate="dish-beef-3">
            </div>
            <div class="rounded-lg overflow-hidden shadow-md">
              <img src="./images/红焖牛肉4.jpg" alt="红焖牛肉4" class="w-full h-24 object-cover dish-gallery-img translate-target" data-translate="dish-beef-4">
            </div>
          </div>
          <!-- 切换提示文本 -->
        </div>
        
        <!-- 菜品信息 -->
        <div class="w-full md:w-1/2">
          <div class="flex items-center gap-3 mb-4 flex-wrap">
            <span class="bg-primary/10 text-primary text-xs font-bold px-3 py-1 rounded-full translate-target" data-translate="category-classic">经典鲁菜</span>
            <span class="bg-secondary/20 text-dark text-xs font-medium px-3 py-1 rounded-full flex items-center translate-target" data-translate="dish-feature-1">
              <i class="fa fa-fire text-red-500 mr-1"></i> 硬菜代表
            </span>
            <span class="bg-secondary/20 text-dark text-xs font-medium px-3 py-1 rounded-full flex items-center translate-target" data-translate="dish-feature-2">
              <i class="fa fa-star text-yellow-500 mr-1"></i> 4.9 好评
            </span>
          </div>
          
          <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-serif font-bold text-dark mb-4 translate-target" data-translate="dish-beef-name">红焖牛肉</h1>
          
          <p class="text-gray-600 mb-6 leading-relaxed translate-target" data-translate="dish-beef-desc">
            红焖牛肉是鲁菜中的经典硬菜，选用带筋牛腩为主料，经焯水、煸炒后小火慢焖而成。
            菜品色泽红亮诱人，牛肉酥烂不柴，酱汁浓郁醇厚，肉质吸收了香料的复合香气，
            配菜吸饱了鲜美的肉汁，咸香适中，营养丰富。既是日常餐桌的下饭神器，
            也是宴请宾客的拿手好菜，承载着鲁菜"火候精湛、调味醇厚"的烹饪理念。
          </p>
          
          <!-- 菜品基本信息 -->
          <div class="grid grid-cols-2 gap-6 mb-8">
            <div class="flex items-center">
              <i class="fa fa-clock-o text-primary text-xl mr-3"></i>
              <div>
                <p class="text-sm text-gray-500 translate-target" data-translate="dish-make-time">制作时长</p>
                <p class="font-medium translate-target" data-translate="dish-make-time-value">约90分钟</p>
              </div>
            </div>
            <div class="flex items-center">
              <i class="fa fa-map-marker text-primary text-xl mr-3"></i>
              <div>
                <p class="text-sm text-gray-500 translate-target" data-translate="dish-origin">起源地</p>
                <p class="font-medium translate-target" data-translate="dish-origin-value">山东地区</p>
              </div>
            </div>
            <div class="flex items-center">
              <i class="fa fa-fire text-primary text-xl mr-3"></i>
              <div>
                <p class="text-sm text-gray-500 translate-target" data-translate="dish-calorie">热量</p>
                <p class="font-medium translate-target" data-translate="dish-calorie-value">380 大卡/份</p>
              </div>
            </div>
            <div class="flex items-center">
              <i class="fa fa-history text-primary text-xl mr-3"></i>
              <div>
                <p class="text-sm text-gray-500 translate-target" data-translate="dish-history">历史渊源</p>
                <p class="font-medium translate-target" data-translate="dish-history-value">明清时期</p>
              </div>
            </div>
          </div>
          
          <a href="#process" class="inline-block bg-primary hover:bg-primary/90 text-white font-medium py-3 px-8 rounded-md transition-all transform hover:scale-105 mb-4 translate-target" data-translate="dish-view-process">
            查看制作工艺 <i class="fa fa-arrow-right ml-2"></i>
          </a>
          <!-- 修复返回菜品列表链接：添加#dishes锚点 -->
          <a href="主界面.html#dishes" class="inline-block bg-white border border-gray-300 hover:border-primary text-dark font-medium py-3 px-8 rounded-md transition-all ml-4 translate-target" data-translate="dish-back-list">
            <i class="fa fa-arrow-left ml-1"></i> 返回菜品列表
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- 菜品历史渊源 -->
  <section class="py-16 beef-bg">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-serif font-bold text-dark mb-6 flex items-center translate-target" data-translate="dish-history-title">
          <i class="fa fa-history text-primary mr-3"></i> 历史渊源
        </h2>
        <div class="beef-card p-8 rounded-xl shadow-md">
          <p class="text-gray-600 mb-4 leading-relaxed translate-target" data-translate="dish-history-desc1">
            红焖牛肉的起源可追溯至明清时期的山东地区，是鲁菜体系中极具代表性的炖菜品类。
            山东作为北方重要的畜牧产区，牛肉资源丰富，当地厨师结合鲁菜"焖煮入味"的烹饪特点，
            创造出这道兼具营养与风味的硬菜。最初为民间家常菜，后因口感醇厚、制作精湛，
            逐渐进入宴席菜单，成为鲁菜中的经典代表。
          </p>
          <p class="text-gray-600 mb-4 leading-relaxed translate-target" data-translate="dish-history-desc2">
            传统红焖牛肉的制作深受儒家"食不厌精"思想影响，从选肉、改刀到火候把控都极为讲究。
            旧时山东大户人家逢年过节必做此菜，寓意"红红火火、丰衣足食"。
            随着鲁菜的传播，红焖牛肉逐渐风靡全国，各地虽有改良，但鲁菜版本的醇厚酱香和酥烂口感始终独树一帜。
          </p>
          <p class="text-gray-600 leading-relaxed translate-target" data-translate="dish-history-desc3">
            现代红焖牛肉在保留传统工艺的基础上，更注重营养均衡，加入土豆、胡萝卜等配菜，
            使菜品不仅味道浓郁，更富含多种维生素和膳食纤维。如今，这道经典鲁菜既是家庭餐桌的常客，
            也是鲁菜馆的招牌菜品，承载着山东饮食文化的厚重与创新。
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- 食材准备 -->
  <section class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-serif font-bold text-dark mb-10 text-center translate-target" data-translate="dish-ingredients-title">
        食材准备
      </h2>
      
      <div class="grid md:grid-cols-2 gap-10">
        <!-- 主料 -->
        <div class="bg-neutral p-8 rounded-xl shadow-md">
          <h3 class="text-xl font-bold mb-6 flex items-center translate-target" data-translate="dish-main-ingredients">
            <i class="fa fa-cutlery text-primary mr-2"></i> 主料
          </h3>
          <ul class="space-y-3">
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-ingredient-1">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>牛腩 800克（带筋带油花最佳）</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-ingredient-2">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>土豆 2个（约300克）</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-ingredient-3">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>胡萝卜 1根（约150克）</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-ingredient-4">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>生姜 50克</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-ingredient-5">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>大葱 2根</span>
            </li>
          </ul>
        </div>
        
        <!-- 调料 -->
        <div class="bg-neutral p-8 rounded-xl shadow-md">
          <h3 class="text-xl font-bold mb-6 flex items-center translate-target" data-translate="dish-seasonings">
            <i class="fa fa-flask text-primary mr-2"></i> 调料
          </h3>
          <ul class="space-y-3">
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-seasoning-1">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>生抽 40毫升</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-seasoning-2">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>料酒 40毫升</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-seasoning-3">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>姜末 20克</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-seasoning-4">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>葱花 30克</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-seasoning-5">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>花椒水 100毫升</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-seasoning-6">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>盐 适量</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-seasoning-7">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>白胡椒粉 5克</span>
            </li>
            <li class="flex items-center ingredient-item p-2 rounded-lg translate-target" data-translate="dish-seasoning-8">
              <i class="fa fa-check-circle text-primary mr-3"></i>
              <span>香油 15毫升</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- 制作工艺 -->
  <section id="process" class="py-16 beef-bg">
    <div class="container mx-auto px-4">
      <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-serif font-bold text-dark mb-10 text-center translate-target" data-translate="dish-process-title">
        制作工艺
      </h2>
      
      <div class="max-w-4xl mx-auto beef-card p-8 md:p-12 rounded-xl shadow-md">
        <div class="pl-10 space-y-12">
          <!-- 步骤1 -->
          <div class="process-step">
            <h3 class="text-xl font-bold mb-3 flex items-center translate-target" data-translate="dish-step-1-title">
              <span class="bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center mr-3">1</span>
              牛肉处理
            </h3>
            <p class="text-gray-600 leading-relaxed translate-target" data-translate="dish-step-1-desc">
              牛腩洗净后切成3-4厘米见方的块，放入冷水锅中，加入姜片和料酒焯水。
              水开后撇去浮沫，继续煮3分钟，捞出牛肉用温水冲洗干净，沥干水分备用。
            </p>
          </div>
          
          <!-- 步骤2 -->
          <div class="process-step">
            <h3 class="text-xl font-bold mb-3 flex items-center translate-target" data-translate="dish-step-2-title">
              <span class="bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center mr-3">2</span>
              煸炒增香
            </h3>
            <p class="text-gray-600 leading-relaxed translate-target" data-translate="dish-step-2-desc">
              锅中倒入适量食用油，油热后放入姜片、葱段爆香。
              加入焯好水的牛肉块，大火快速煸炒至表面微黄，逼出部分油脂。
              加入生抽翻炒均匀，使牛肉均匀裹上酱汁，增加色泽和底味。
            </p>
          </div>
          
          <!-- 步骤3 -->
          <div class="process-step">
            <h3 class="text-xl font-bold mb-3 flex items-center translate-target" data-translate="dish-step-3-title">
              <span class="bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center mr-3">3</span>
              小火慢焖
            </h3>
            <p class="text-gray-600 leading-relaxed translate-target" data-translate="dish-step-3-desc">
              加入足量开水，水量要没过牛肉，大火烧开后转小火慢焖60分钟。
              期间可以加入少量花椒水去腥增香，保持小火让牛肉慢慢吸收汤汁味道。
              焖至牛肉八分熟时，加入切好的土豆块和胡萝卜块，继续焖20-30分钟。
            </p>
          </div>
          
          <!-- 步骤4 -->
          <div class="process-step">
            <h3 class="text-xl font-bold mb-3 flex items-center translate-target" data-translate="dish-step-4-title">
              <span class="bg-primary text-white w-8 h-8 rounded-full flex items-center justify-center mr-3">4</span>
              调味收汁
            </h3>
            <p class="text-gray-600 leading-relaxed translate-target" data-translate="dish-step-4-desc">
              最后根据口味加入适量盐和白胡椒粉调味，开大火快速收汁。
              收汁至汤汁浓稠，能挂在牛肉和配菜上即可，淋入香油提香。
              出锅前撒上葱花点缀，一道色泽红亮、香气浓郁的红焖牛肉就完成了。
            </p>
          </div>
        </div>
        
        <!-- 烹饪小贴士 -->
        <div class="mt-12 bg-primary/5 p-6 rounded-lg border-l-4 border-primary">
          <h4 class="font-bold text-lg mb-3 flex items-center translate-target" data-translate="dish-tips-title">
            <i class="fa fa-lightbulb-o text-primary mr-2"></i> 烹饪小贴士
          </h4>
          <ul class="text-gray-600 space-y-2">
            <li class="flex items-start translate-target" data-translate="dish-tip-1">
              <i class="fa fa-angle-right text-primary mt-1 mr-2"></i>
              <span>选肉要选带筋带油花的牛腩，这样炖出来的牛肉更软糯多汁，不会柴。</span>
            </li>
            <li class="flex items-start translate-target" data-translate="dish-tip-2">
              <i class="fa fa-angle-right text-primary mt-1 mr-2"></i>
              <span>焯水时用冷水下锅，能更好地逼出牛肉中的血水和杂质，去除腥味。</span>
            </li>
            <li class="flex items-start translate-target" data-translate="dish-tip-3">
              <i class="fa fa-angle-right text-primary mt-1 mr-2"></i>
              <span>焖煮时一定要用小火慢炖，让牛肉充分吸收汤汁味道，达到酥烂不柴的效果。</span>
            </li>
            <li class="flex items-start translate-target" data-translate="dish-tip-4">
              <i class="fa fa-angle-right text-primary mt-1 mr-2"></i>
              <span>配菜不要加太早，否则会炖得过于软烂，失去口感，在牛肉八分熟时加入最佳。</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- 相关推荐（修复图片路径） -->
  <section class="py-16 bg-white">
    <div class="container mx-auto px-4">
      <h2 class="text-[clamp(1.5rem,3vw,2rem)] font-serif font-bold text-dark mb-10 text-center translate-target" data-translate="dish-related-title">
        相关推荐菜品
      </h2>
      
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- 推荐菜品1 -->
        <div class="dish-card bg-neutral rounded-lg overflow-hidden shadow-md">
          <div class="relative h-48 overflow-hidden">
            <img src="./images/8.jpg" alt="海肠炒饭" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110 translate-target" data-translate="dish-related-1-name">
            <div class="absolute top-4 right-4 bg-primary text-white text-xs font-bold px-3 py-1 rounded-full translate-target" data-translate="category-snack">
              小吃类
            </div>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-bold mb-2 translate-target" data-translate="dish-related-1-name">海肠炒饭</h3>
            <p class="text-gray-600 text-sm mb-4 translate-target" data-translate="dish-related-1-desc">
              胶东特色，海肠鲜脆，米饭粒粒分明，咸鲜可口，营养丰富。
            </p>
            <a href="海肠炒饭.html" class="text-primary font-medium hover:text-primary/80 transition-colors flex items-center translate-target" data-translate="dish-view-detail">
              查看详情 <i class="fa fa-angle-right ml-1"></i>
            </a>
          </div>
        </div>
        
        <!-- 推荐菜品2 -->
        <div class="dish-card bg-neutral rounded-lg overflow-hidden shadow-md">
          <div class="relative h-48 overflow-hidden">
            <img src="./images/13.jpg" alt="辣炒蛤蜊" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110 translate-target" data-translate="dish-related-2-name">
            <div class="absolute top-4 right-4 bg-primary text-white text-xs font-bold px-3 py-1 rounded-full translate-target" data-translate="category-snack">
              小吃类
            </div>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-bold mb-2 translate-target" data-translate="dish-related-2-name">辣炒蛤蜊</h3>
            <p class="text-gray-600 text-sm mb-4 translate-target" data-translate="dish-related-2-desc">
              胶东沿海家常菜，蛤蜊吐沙干净，鲜辣开胃，下酒神器。
            </p>
            <a href="辣炒蛤蜊.html" class="text-primary font-medium hover:text-primary/80 transition-colors flex items-center translate-target" data-translate="dish-view-detail">
              查看详情 <i class="fa fa-angle-right ml-1"></i>
            </a>
          </div>
        </div>
        
        <!-- 推荐菜品3 -->
        <div class="dish-card bg-neutral rounded-lg overflow-hidden shadow-md">
          <div class="relative h-48 overflow-hidden">
            <img src="./images/11.jpg" alt="济南把子肉" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110 translate-target" data-translate="dish-related-3-name">
            <div class="absolute top-4 right-4 bg-primary text-white text-xs font-bold px-3 py-1 rounded-full translate-target" data-translate="category-snack">
              小吃类
            </div>
          </div>
          <div class="p-6">
            <h3 class="text-xl font-bold mb-2 translate-target" data-translate="dish-related-3-name">济南把子肉</h3>
            <p class="text-gray-600 text-sm mb-4 translate-target" data-translate="dish-related-3-desc">
              济南传统小吃，选用大块五花肉，用酱油炖至酥烂，肥而不腻，酱香浓郁。
            </p>
            <a href="济南把子肉.html" class="text-primary font-medium hover:text-primary/80 transition-colors flex items-center translate-target" data-translate="dish-view-detail">
              查看详情 <i class="fa fa-angle-right ml-1"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 页脚（修复导航锚点） -->
  <footer class="bg-dark text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-4 gap-8">
        <div>
          <div class="flex items-center space-x-2 mb-6">
            <i class="fa fa-cutlery text-secondary text-2xl"></i>
            <span class="text-xl font-serif font-bold text-secondary translate-target" data-translate="footer-brand">鲁菜传承</span>
          </div>
          <p class="text-gray-400 mb-6 translate-target" data-translate="footer-desc">
            传承鲁菜文化，弘扬中华美食，让更多人了解和喜爱鲁菜。
          </p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-secondary transition-colors" aria-label="微信">
              <i class="fa fa-weixin text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-secondary transition-colors" aria-label="微博">
              <i class="fa fa-weibo text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-secondary transition-colors" aria-label="Instagram">
              <i class="fa fa-instagram text-xl"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-6 text-secondary translate-target" data-translate="footer-quick-links">快速链接</h4>
          <ul class="space-y-3">
            <li><a href="主界面.html#home" class="text-gray-400 hover:text-secondary transition-colors translate-target" data-translate="nav-home">首页</a></li>
            <li><a href="主界面.html#about" class="text-gray-400 hover:text-secondary transition-colors translate-target" data-translate="nav-about">关于鲁菜</a></li>
            <li><a href="主界面.html#dishes" class="text-gray-400 hover:text-secondary transition-colors translate-target" data-translate="nav-dishes">菜品展示</a></li>
            <li><a href="主界面.html#culture" class="text-gray-400 hover:text-secondary transition-colors translate-target" data-translate="nav-culture">鲁菜文化</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-lg font-bold mb-6 text-secondary translate-target" data-translate="footer-snacks">特色小吃</h4>
          <ul class="space-y-3">
            <li><a href="鲅鱼饺子.html" class="text-gray-400 hover:text-secondary transition-colors translate-target" data-translate="dish-related-4-name">鲅鱼饺子</a></li>
            <li><a href="海肠炒饭.html" class="text-gray-400 hover:text-secondary transition-colors translate-target" data-translate="dish-related-1-name">海肠炒饭</a></li>
            <li><a href="辣炒蛤蜊.html" class="text-gray-400 hover:text-secondary transition-colors translate-target" data-translate="dish-related-2-name">辣炒蛤蜊</a></li>
            <li><a href="济南把子肉.html" class="text-gray-400 hover:text-secondary transition-colors translate-target" data-translate="dish-related-3-name">济南把子肉</a></li>
          </ul>
        </div>
        <div>
        </div>
      </div>
      
      <div class="border-t border-gray-800 mt-10 pt-6 text-center text-gray-500 text-sm translate-target" data-translate="copyright">
        <p>&copy; 2025 鲁味风华 -AI素材库- 保留所有权利</p>
      </div>
    </div>
  </footer>

  <!-- 回到顶部按钮 -->
  <button id="back-to-top" class="fixed bottom-8 right-8 bg-primary text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg opacity-0 invisible transition-all duration-300 hover:bg-primary/90">
    <i class="fa fa-arrow-up"></i>
  </button>

  <script>
    // 页面标题多语言映射
    const PAGE_TITLES = {
      zh: "红焖牛肉 - 鲁味风华",
      en: "Braised Beef - Shandong Cuisine Elegance",
      jp: "赤煮牛肉 - 魯菜風華",
      kor: "붉은 찜 소고기 - 루채 풍화",
      fra: "Boeuf Braisé - Élégance de la Cuisine Lu",
      de: "Gebratenes Rindfleisch - Eleganz der Lu-Küche",
      spa: "Carne de Res Estofada - Elegancia de la Cocina Lu",
      ru: "Тушеное говядина - Элегантность кухни Лу",
      ara: "لحم گاو مقلي - أناقة مطبخ لو",
      vie: "yuenanyuyan",
    };
    
    // 百度翻译语言代码映射
    const LANG_CODE_MAP = {
      zh: "zh",    // 中文
      en: "en",    // 英语
      jp: "jp",    // 日语
      kor: "kor",  // 韩语
      fra: "fra",  // 法语
      de: "de",    // 德语
      spa: "spa",  // 西班牙语
      ru: "ru",    // 俄语
      ara: "ara",
      vie: "vie",
    };
    
    // 语言显示名称映射
    const LANG_NAME_MAP = {
      zh: "中文",
      en: "English",
      jp: "日本語",
      kor: "한국어",
      fra: "Français",
      de: "Deutsch",
      spa: "Español",
      ru: "Русский",
      ara: "العربية",
      vie: "yuenanyu",

    };
    
    // 翻译状态管理
    let translateState = {
      currentLang: "zh",
      originalTexts: {}, 
      translatedTexts: {},
      isTranslating: false
    };

    // ========================== DOM元素获取 ==========================
    const langBtn = document.getElementById('lang-btn');
    const mobileLangBtn = document.getElementById('mobile-lang-btn');
    const langDropdown = document.getElementById('lang-dropdown');
    const mobileLangDropdown = document.getElementById('mobile-lang-dropdown');
    const currentLangText = document.getElementById('current-lang-text');
    const mobileCurrentLang = document.getElementById('mobile-current-lang');
    const translateTargets = document.querySelectorAll('[data-translate]');
    const langOptions = document.querySelectorAll('.lang-option');
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const navbar = document.getElementById('navbar');
    const backToTop = document.getElementById('back-to-top');

    // ========================== 翻译核心函数 ==========================
    async function translateText(text, to = "en") {
      // 空文本直接返回
      if (!text.trim()) return text;
      
      // 缓存key：文本-目标语言
      const cacheKey = `${text}-zh-${to}`;
      
      // 优先使用缓存结果
      if (translateState.translatedTexts[cacheKey]) {
        return translateState.translatedTexts[cacheKey];
      }

      try {
        const response = await fetch('http://localhost:3000/translate', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ 
            text: text, 
            from: 'zh', 
            to: to 
          }),
          timeout: 10000
        });

        if (!response.ok) {
          throw new Error(`服务请求失败：${response.status} ${response.statusText}`);
        }

        const data = await response.json();
        
        if (data.error_code) {
          console.error(`翻译服务错误: ${data.error_code} - ${data.error_msg}`);
          let errorMsg = "翻译失败，请稍后重试";
          switch(data.error_code) {
            case "400": errorMsg = "无效请求：" + data.error_msg; break;
            case "500": errorMsg = "服务器错误：" + data.error_msg; break;
            case "52001": errorMsg = "翻译超时，请重试"; break;
            case "52003": errorMsg = "APPID或密钥错误（请检查服务端配置）"; break;
          }
          alert(errorMsg);
          return text;
        }

        if (data.success && data.translated) {
          const translatedText = data.translated;
          translateState.translatedTexts[cacheKey] = translatedText;
          return translatedText;
        } else {
          console.warn("未获取到翻译结果", data);
          return text;
        }
      } catch (error) {
        console.error("翻译接口异常:", error);
        if (error.message.includes('Failed to fetch') || error.message.includes('超时')) {
          alert("翻译失败：请确保本地翻译服务已启动（http://localhost:3000）");
        } else {
          alert(`翻译失败：${error.message}`);
        }
        return text;
      }
    }

    /**
     * 页面加载时存储原始中文文本
     */
    window.addEventListener('DOMContentLoaded', function() {
      // 存储所有原始中文文本
      translateTargets.forEach(el => {
        const key = el.getAttribute('data-translate');
        translateState.originalTexts[key] = el.textContent.trim();
        if (el.tagName === 'IMG') {
          translateState.originalTexts[`${key}_alt`] = el.alt.trim();
        }
      });
      
      // 检查URL中的语言参数
      const urlParams = new URLSearchParams(window.location.search);
      const langParam = urlParams.get('lang');
      if (langParam && LANG_CODE_MAP[langParam]) {
        setTimeout(() => {
          translateToLang(langParam);
        }, 500);
      }
    });

    /**
     * 切换语言（核心函数）
     */
    async function translateToLang(targetLang) {
      if (translateState.isTranslating || translateState.currentLang === targetLang) {
        langDropdown.classList.remove('show');
        mobileLangDropdown.classList.remove('show');
        return;
      }

      // 更新状态：显示加载中
      translateState.isTranslating = true;
      [langBtn, mobileLangBtn].forEach(btn => {
        if (btn) {
          btn.classList.add('loading');
          btn.innerHTML = '<i class="fa fa-language"></i> 翻译中... <i class="fa fa-angle-down text-xs"></i>';
        }
      });

      try {
        // 切换中文：直接恢复原始文本
        if (targetLang === "zh") {
          document.title = PAGE_TITLES.zh;
          
          // 恢复所有翻译元素的原始中文
          translateTargets.forEach(el => {
            const key = el.getAttribute('data-translate');
            const originalText = translateState.originalTexts[key];
            if (originalText) {
              el.textContent = originalText;
              if (el.tagName === 'IMG') {
                el.alt = translateState.originalTexts[`${key}_alt`] || originalText;
              }
            }
          });
        } 
        // 切换其他语言：调用翻译服务
        else {
          const targetLangCode = LANG_CODE_MAP[targetLang] || "en";
          document.title = PAGE_TITLES[targetLang] || PAGE_TITLES.en;
          
          // 串行翻译所有文本
          for (const el of translateTargets) {
            const key = el.getAttribute('data-translate');
            const originalText = translateState.originalTexts[key];
            if (originalText) {
              const translated = await translateText(originalText, targetLangCode);
              el.textContent = translated;
              if (el.tagName === 'IMG') {
                el.alt = translated;
              }
            }
          }
        }

        // 更新全局状态和UI
        translateState.currentLang = targetLang;
        document.body.className = `bg-neutral text-dark lang-${targetLang}`;
        
        // 更新语言选项激活状态
        langOptions.forEach(option => {
          option.classList.toggle('active', option.dataset.lang === targetLang);
        });
        
        // 恢复语言按钮显示
        const activeLangName = document.querySelector(`.lang-option[data-lang="${targetLang}"]`).dataset.langName;
        [langBtn, mobileLangBtn].forEach((btn, index) => {
          if (btn) {
            btn.innerHTML = `<i class="fa fa-language"></i> ${activeLangName} <i class="fa fa-angle-down text-xs"></i>`;
            if (index === 0) currentLangText.innerText = activeLangName;
            if (index === 1) mobileCurrentLang.innerText = activeLangName;
          }
        });

      } catch (error) {
        console.error('语言切换失败:', error);
        alert('语言切换出错，请检查服务是否正常后重试');
        
        // 恢复原始语言状态
        const originalLang = translateState.currentLang;
        const originalLangName = LANG_NAME_MAP[originalLang];
        [langBtn, mobileLangBtn].forEach((btn, index) => {
          if (btn) {
            btn.innerHTML = `<i class="fa fa-language"></i> ${originalLangName} <i class="fa fa-angle-down text-xs"></i>`;
            if (index === 0) currentLangText.innerText = originalLangName;
            if (index === 1) mobileCurrentLang.innerText = originalLangName;
          }
        });
      } finally {
        // 结束加载状态
        translateState.isTranslating = false;
        [langBtn, mobileLangBtn].forEach(btn => {
          if (btn) btn.classList.remove('loading');
        });
        langDropdown.classList.remove('show');
        mobileLangDropdown.classList.remove('show');
      }
    }

    // ========================== 事件绑定 ==========================
    // 桌面端语言切换
    if (langBtn) {
      langBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        langDropdown.classList.toggle('show');
        mobileLangDropdown.classList.remove('show');
      });
    }

    // 移动端语言切换
    if (mobileLangBtn) {
      mobileLangBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        mobileLangDropdown.classList.toggle('show');
        langDropdown.classList.remove('show');
      });
    }

    // 语言选项点击
    langOptions.forEach(option => {
      option.addEventListener('click', function() {
        const targetLang = this.dataset.lang;
        translateToLang(targetLang);
      });
    });

    // 点击页面其他地方关闭下拉菜单
    document.addEventListener('click', () => {
      langDropdown.classList.remove('show');
      mobileLangDropdown.classList.remove('show');
    });

    [langDropdown, mobileLangDropdown].forEach(dropdown => {
      if (dropdown) {
        dropdown.addEventListener('click', (e) => {
          e.stopPropagation();
        });
      }
    });

    // 移动端菜单切换
    if (menuToggle) {
      menuToggle.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
        const icon = this.querySelector('i');
        if (mobileMenu.classList.contains('hidden')) {
          icon.classList.remove('fa-times');
          icon.classList.add('fa-bars');
        } else {
          icon.classList.remove('fa-bars');
          icon.classList.add('fa-times');
        }
      });
    }

    // 导航栏滚动效果
    window.addEventListener('scroll', function() {
      if (window.scrollY > 100) {
        navbar.classList.add('py-2', 'shadow');
        navbar.classList.remove('py-3');
        
        // 显示回到顶部按钮
        backToTop.classList.remove('opacity-0', 'invisible');
        backToTop.classList.add('opacity-100', 'visible');
      } else {
        navbar.classList.add('py-3');
        navbar.classList.remove('py-2', 'shadow');
        
        // 隐藏回到顶部按钮
        backToTop.classList.add('opacity-0', 'invisible');
        backToTop.classList.remove('opacity-100', 'visible');
      }
    });

    // 回到顶部功能
    if (backToTop) {
      backToTop.addEventListener('click', function() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    }

    // ========================== 图片预览功能修复（核心修改） ==========================
    // 主图：用id精准选择，避免误选
    const mainImage = document.getElementById('main-dish-img');
    // 图片画廊：选择所有小图
    const galleryImages = document.querySelectorAll('.dish-gallery-img');
    
    // 为每个小图绑定点击事件
    galleryImages.forEach(img => {
      img.addEventListener('click', function() {
        // 1. 切换主图src（统一路径后，直接使用小图的src）
        mainImage.src = this.src;
        
        // 2. 同步更新主图alt属性（支持多语言翻译）
        const imgTranslateKey = this.getAttribute('data-translate');
        if (imgTranslateKey && translateState.originalTexts[imgTranslateKey]) {
          const originalAlt = translateState.originalTexts[imgTranslateKey];
          const targetLangCode = LANG_CODE_MAP[translateState.currentLang];
          const cacheKey = `${originalAlt}-zh-${targetLangCode}`;
          
          // 中文直接用原始文本，其他语言用缓存的翻译结果
          mainImage.alt = translateState.currentLang === 'zh' 
            ? originalAlt 
            : translateState.translatedTexts[cacheKey] || originalAlt;
        }
        
        // 3. 添加主图切换淡入动画（增强视觉体验）
        mainImage.style.opacity = '0.5';
        setTimeout(() => {
          mainImage.style.opacity = '1';
        }, 150);
      });
    });

    // 点击移动端菜单链接后关闭菜单
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
      link.addEventListener('click', function() {
        mobileMenu.classList.add('hidden');
        const icon = menuToggle.querySelector('i');
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      });
    });

    // 错误处理
    window.addEventListener('unhandledrejection', (event) => {
      console.error('未处理的Promise错误:', event.reason);
      event.preventDefault();
    });
  </script>
</body>
</html>